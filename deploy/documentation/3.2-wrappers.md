# 3.2 Wrapper Attributes

Wrapper attributes provide a way to express conditional and contextual styling directly in your markup by generating wrapper selectors around a class, without manually adding extra wrapper elements. They are an unconventional but highly effective pattern for controlling conditional states and responsive behavior.

## How it works

- Each wrapper-attribute creates an implicit wrapper element/selector around the class, with the selector derived from the attribute content.  
- Wrapper-attributes let you **scope, toggle, or layer** styles based on attribute presence, feature support, or layout constraints.  
- Responsive breakpoints and contextual constraints (like loading state or container size) are declared where the component is used, not scattered across separate CSS files.

## Rule specification

- The wrapper attribute value must **end with an `&` token**, which represents the wrapped class selector.  
- `hashrules` like `#{Load}` are valid and are resolved from your configuration into full selectors.  
- Use `{ ... }` braces for raw string formatting so values containing spaces are not split.  
- Inside `identifier@{ ... }`, shorthand expressions map to CSS constraints:
  - `width>=` => `min-width:`
  - `width<=` => `max-width:`
  - `height>=` => `min-height:`
  - `height<=` => `max-height:`

## Conceptual example

```html
<!-- Assume hashrule #{Load} == "body[data-loading]" -->
<sketch
  _$class="..."
  &#{Ms1}&{.parent}&="..."
  {@supports not (backdrop-filter: blur(1px))}&="..."
  container@{(width>=320px)}&="..."
>
  {Placeholder}
</sketch>
```

This compiles conceptually to:

```css
.$class { ... }

/* Global loading wrapper from hashrule */
@media (min-width:512px)  { 
  .$class { ... } 
}

/* Feature query wrapper */
@supports not (backdrop-filter: blur(1px)) {
  .$class { ... }
}

/* Container query wrapper */
@container (max-width: 320px) {
  .$class { ... }
}

```
## Practical Example

```html
<sketch 
class="prefix#parent"
demo$wrapper-preview="
	+ p-1 radius-1;
	container-type: inline-size;
	width: 8rem;
"
>
  <p class="=demo$wrapper-child"
  demo$wrapper-child="
  	+ p-4 radius-4;
  	background-color: red;
  	color: white;
  "
  &#{Cs2}&{.prefix\#parent}&="background-color: blue;"
  &#{Cs1}&{.prefix\#parent}&="background-color: brown;"
  &#{Cmd}&{.prefix\#parent}&="background-color: black;"
  > <!-- Editor plugin hint -->
    Try resizing using rescale handle.
  </p>
</sketch>
```

> Wrapper attributes let you co-locate conditional logic and responsive behavior with component usage while still emitting clean, idiomatic CSS structures.
